{"version":3,"sources":["webpack://module.exports/webpack/bootstrap","webpack://module.exports/external \"flarum.core.compat['extend']\"","webpack://module.exports/external \"flarum.core.compat['utils/ItemList']\"","webpack://module.exports/external \"flarum.core.compat['components/DiscussionComposer']\"","webpack://module.exports/external \"flarum.core.compat['components/Button']\"","webpack://module.exports/external \"flarum.core.compat['models/Discussion']\"","webpack://module.exports/external \"flarum.core.compat['models/User']\"","webpack://module.exports/external \"flarum.core.compat['models/Group']\"","webpack://module.exports/external \"flarum.core.compat['Model']\"","webpack://module.exports/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://module.exports/external \"flarum.core.compat['helpers/highlight']\"","webpack://module.exports/external \"flarum.core.compat['helpers/username']\"","webpack://module.exports/external \"flarum.core.compat['utils/extract']\"","webpack://module.exports/external \"flarum.core.compat['components/DiscussionList']\"","webpack://module.exports/external \"flarum.core.compat['helpers/listItems']\"","webpack://module.exports/external \"flarum.core.compat['utils/classList']\"","webpack://module.exports/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://module.exports/./src/forum/components/sources/UserSearchSource.js","webpack://module.exports/./src/forum/components/sources/GroupSearchSource.js","webpack://module.exports/./src/common/helpers/recipientLabel.js","webpack://module.exports/./src/forum/components/RecipientSearch.js","webpack://module.exports/./src/forum/components/AddRecipientModal.js","webpack://module.exports/./src/common/helpers/recipientCountLabel.js","webpack://module.exports/./src/forum/addRecipientComposer.js","webpack://module.exports/./src/common/helpers/recipientsLabel.js","webpack://module.exports/./src/forum/addRecipientLabels.js","webpack://module.exports/./src/forum/addRecipientsControl.js","webpack://module.exports/./src/forum/addHasRecipientsBadge.js","webpack://module.exports/./src/forum/addDiscussPrivatelyControl.js","webpack://module.exports/./src/forum/components/PrivateDiscussionList.js","webpack://module.exports/./src/forum/components/PrivateDiscussionIndex.js","webpack://module.exports/./src/forum/components/RecipientsModified.js","webpack://module.exports/./src/forum/index.js","webpack://module.exports/external \"flarum.core.compat['components/Modal']\"","webpack://module.exports/external \"flarum.core.compat['components/Search']\"","webpack://module.exports/external \"flarum.core.compat['helpers/avatar']\"","webpack://module.exports/external \"flarum.core.compat['utils/extractText']\"","webpack://module.exports/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://module.exports/external \"flarum.core.compat['components/DiscussionListItem']\"","webpack://module.exports/external \"flarum.core.compat['components/DiscussionHero']\"","webpack://module.exports/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://module.exports/external \"flarum.core.compat['components/Badge']\"","webpack://module.exports/external \"flarum.core.compat['utils/UserControls']\"","webpack://module.exports/external \"flarum.core.compat['components/Page']\"","webpack://module.exports/external \"flarum.core.compat['helpers/icon']\"","webpack://module.exports/external \"flarum.core.compat['components/WelcomeHero']\"","webpack://module.exports/external \"flarum.core.compat['components/LogInModal']\"","webpack://module.exports/external \"flarum.core.compat['components/Select']\"","webpack://module.exports/external \"flarum.core.compat['components/LinkButton']\"","webpack://module.exports/external \"flarum.core.compat['components/SelectDropdown']\"","webpack://module.exports/external \"flarum.core.compat['components/EventPost']\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","UserSearchSource_UserSearchSource","search","query","app","store","find","filter","q","page","limit","view","toLowerCase","results","all","user","username","substr","length","className","translator","trans","map","username_default","children","highlight_default","data-index","id","avatar_default","GroupSearchSource_GroupSearchSource","group","namePlural","groupName","class","recipientLabel","recipient","attrs","style","label","link","extract_default","User_default","a","title","href","route","config","Group_default","RecipientSearch_RecipientSearch","isInitialized","_this","this","$search","$","on","e","target","addRecipient","data","focus","parentNode","_Search","_this2","loading","sources","sourceItems","toArray","props","selected","onclick","removeRecipient","classList_default","open","focused","active","loadingSources","element","type","placeholder","extractText_default","oninput","withAttr","onfocus","hasFocus","onblur","in","source","LoadingIndicator_default","component","size","items","ItemList_default","discussion","forum","attribute","canEditUserRecipients","add","canEditGroupRecipients","clear","redraw","values","split","findRecipient","remove","getById","Search_default","AddRecipientModal_AddRecipientModal","init","_Modal","prop","assignInitialRecipients","selectedRecipients","merge","session","recipientSearch","recipientUsers","recipientGroups","content","Button_default","disabled","icon","select","metaKey","ctrlKey","indexOf","index","submit","onsubmit","preventDefault","recipients","forEach","push","save","relationships","then","current","DiscussionPage_default","stream","update","modal","close","strategy","Modal_default","recipientCountLabel","count","transChoice","recipientsLabel","addRecipientsControl","external_flarum_core_compat_extend_","DiscussionControls_default","canEditRecipients","show","addHasRecipientsBadge","Discussion_default","badges","Badge_default","addDiscussPrivatelyControl","UserControls_default","deferred","DiscussionComposer_default","composer","load","resolve","promise","PrivateDiscussionList_PrivateDiscussionList","loadResults","offset","preloadedDiscussions","preloadedDocument","params","requestParams","include","join","DiscussionList_default","PrivateDiscussionIndex_PrivateDiscussionIndex","_Page","previous","lastDiscussion","PrivateDiscussionIndex","cache","privateDiscussionList","keys","some","history","icon_default","bodyClass","onunload","scrollTop","window","hero","listItems_default","sidebarItems","viewItems","actionItems","discussionList","render","context","apply","arguments","css","setTitle","setTitleCount","oldHeroHeight","heroHeight","outerHeight","height","scroll","setTimeout","$discussion","indexTop","indexBottom","discussionTop","top","discussionBottom","WelcomeHero_default","canStartDiscussion","itemClassName","newDiscussion","SelectDropdown_default","navItems","buttonClassName","stickyParams","LinkButton_default","sortMap","sortOptions","Select_default","options","sort","onchange","changeSort","refresh","markAllAsRead","searching","clearSearch","routeName","param","composeNewDiscussion","LogInModal_default","onlogin","confirm","readTime","Date","Page_default","RecipientsModified_RecipientsModified","initProps","diff","diff1","diff2","item","_EventPost","post","usersAdded","usersRemoved","groupsAdded","groupsRemoved","added","concat","removed","oldRecipients","newRecipients","descriptionKey","localeBase","descriptionData","initializers","routes","private_discussions","path","external_flarum_core_compat_Model_default","hasMany","oldRecipientUsers","oldRecipientGroups","postComponents","recipientsModified","chooseRecipients","users","groups","addRecipientComposer","addToDiscussion","long","DiscussionListItem_default","DiscussionHero_default","addRecipientLabels"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 38);\n","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['components/DiscussionComposer'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['models/Group'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['helpers/highlight'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['utils/extract'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['utils/classList'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import highlight from 'flarum/helpers/highlight';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\n\nexport default class UserSearchSource {\n    search(query) {\n        return app.store.find('users', {\n            filter: {q: query},\n            page: {limit: 5}\n        });\n    }\n  \n    view(query) {\n        query = query.toLowerCase();\n      \n        const results = app.store.all('users')\n            .filter(user => user.username().toLowerCase().substr(0, query.length) === query);\n\n        if (!results.length) return '';\n\n        return [\n            <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\n            results.map(user => {\n                const name = username(user);\n                name.children[0] = highlight(name.children[0], query);\n\n                return (\n                    <li className='SearchResult' data-index={'users:' + user.id()}>\n                        <a data-index={'users:' + user.id()}>\n                            {avatar(user)}\n                            {name}\n                        </a>\n                    </li>\n                );\n            })\n        ];\n    }\n}\n","import highlight from 'flarum/helpers/highlight';\n\nexport default class GroupSearchSource {\n    search(query) {\n        return app.store.find('groups', {\n            filter: {q: query},\n            page: {limit: 5}\n        });\n    }\n\n    view(query) {\n        query = query.toLowerCase();\n\n        const results = app.store.all('groups')\n            .filter(group => group.namePlural().toLowerCase().substr(0, query.length) === query);\n\n        if (!results.length) return '';\n\n        return [\n            <li className=\"Dropdown-header\">{app.translator.trans('flagrow-byobu.forum.search.headings.groups')}</li>,\n            results.map(group => {\n                const groupName = group.namePlural();\n                var name = highlight(groupName, query);\n\n                return (\n                    <li className=\"SearchResult\" data-index={'groups:' + group.id()}>\n                        <a data-index={'groups:' + group.id()}>\n                            <span class=\"groupName\">{name}</span>\n                        </a>\n                    </li>\n                );\n            })\n        ];\n    }\n}\n","import extract from 'flarum/utils/extract';\nimport username from 'flarum/helpers/username';\nimport User from 'flarum/models/User';\nimport Group from 'flarum/models/Group';\n\nexport default function recipientLabel(recipient, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'RecipientLabel ' + (attrs.className || '');\n\n  const link = extract(attrs, 'link');\n\n  var label;\n\n  if (recipient instanceof User) {\n      label = username(recipient);\n\n      if (link) {\n          attrs.title = recipient.username() || '';\n          attrs.href = app.route.user(recipient);\n          attrs.config = m.route;\n      }\n  } else if (recipient instanceof Group) {\n      label = recipient.namePlural();\n  } else {\n      attrs.className += ' none';\n      label = app.translator.trans('flagrow-byobu.forum.labels.user_deleted');\n  }\n\n  return (\n    m((link ? 'a' : 'span'), attrs,\n        <span className=\"RecipientLabel-text\">\n            {label}\n        </span>\n    )\n  );\n}\n","import Search from \"flarum/components/Search\";\nimport UserSearchSource from \"./sources/UserSearchSource\";\nimport GroupSearchSource from \"./sources/GroupSearchSource\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport classList from \"flarum/utils/classList\";\nimport extractText from \"flarum/utils/extractText\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport recipientLabel from \"../../common/helpers/recipientLabel\";\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\n\nexport default class RecipientSearch extends Search {\n\n    config(isInitialized) {\n        if (isInitialized) return;\n\n        const $search = this;\n\n        this.$('.Search-results').on('click', (e) => {\n            const target = this.$('.SearchResult.active')\n\n            $search.addRecipient(target.data('index'));\n            $search.$('.RecipientsInput').focus();\n        });\n\n        this.$('.Search-results').on('touchstart', (e) => {\n            const target = this.$(e.target.parentNode);\n\n            $search.addRecipient(target.data('index'));\n            $search.$('.RecipientsInput').focus();\n        });\n\n        super.config(isInitialized);\n    }\n\n    view() {\n        if (typeof this.value() === 'undefined') {\n            this.value('');\n        }\n\n        const loading = this.value() && this.value().length >= 3;\n        const sources = this.sourceItems().toArray();\n\n        return m('div', {\n            className: 'AddRecipientModal-form-input'\n        }, [\n            m('div', {\n                className: 'RecipientsInput-selected RecipientsLabel'\n            }, this.props.selected().toArray().map(recipient =>\n                recipientLabel(recipient, {\n                    onclick: () => {\n                        this.removeRecipient(recipient);\n                    }\n                })\n            )),\n            m('input', {\n                className: 'RecipientsInput FormControl ' + classList({\n                    open: !!this.value(),\n                    focused: !!this.value(),\n                    active: !!this.value(),\n                    loading: !!this.loadingSources\n                }),\n                config: function (element) {\n                    element.focus();\n                },\n                type: 'search',\n                placeholder: extractText(app.translator.trans('flagrow-byobu.forum.input.search_recipients')),\n                value: this.value(),\n                oninput: m.withAttr('value', this.value),\n                onfocus: () => this.hasFocus = true,\n                onblur: () => this.hasFocus = false\n            }),\n            m('ul', {\n                className: 'Dropdown-menu Search-results fade ' + classList({\n                    in: !!loading\n                })\n            }, loading\n                ? sources.map(source => source.view(this.value()))\n                : LoadingIndicator.component({size: 'tiny', className: 'Button Button--icon Button--link'})\n            )\n        ]);\n    }\n\n    /**\n     * Build an item list of SearchSources.\n     *\n     * @return {ItemList}\n     */\n    sourceItems() {\n        const items = new ItemList();\n\n        // Add user source based on permissions.\n        if (\n            (!this.props.discussion && app.forum.attribute('canStartPrivateDiscussionWithUsers')) ||\n            (this.props.discussion && this.props.discussion.canEditUserRecipients())\n        ) {\n            items.add('users', new UserSearchSource());\n        }\n\n        // Add group source based on permissions.\n        if (\n            (!this.props.discussion && app.forum.attribute('canStartPrivateDiscussionWithGroups')) ||\n            (this.props.discussion && this.props.discussion.canEditGroupRecipients())\n        ) {\n            items.add('groups', new GroupSearchSource());\n        }\n\n        return items;\n    }\n\n\n    /**\n     * Clear the search input and the current controller's active search.\n     */\n    clear() {\n        this.value('');\n\n        m.redraw();\n    }\n\n    /**\n     * Adds a recipient.\n     *\n     * @param value\n     */\n    addRecipient(value) {\n\n        var values = value.split(':'),\n            type = values[0],\n            id = values[1];\n\n        var recipient = this.findRecipient(type, id);\n\n        this.props.selected().add(value, recipient);\n\n        this.clear();\n    }\n\n    /**\n     * Removes a recipient.\n     *\n     * @param recipient\n     */\n    removeRecipient(recipient) {\n        var type;\n\n        if (recipient instanceof User) {\n            type = 'users';\n        }\n        if (recipient instanceof Group) {\n            type = 'groups';\n        }\n\n        this.props.selected().remove(type + \":\" + recipient.id());\n\n        m.redraw();\n    }\n\n    /**\n     * Loads a recipient from the global store.\n     *\n     * @param store\n     * @param id\n     * @returns {Model}\n     */\n    findRecipient(store, id) {\n        return app.store.getById(store, id);\n    }\n}\n","import Modal from \"flarum/components/Modal\";\nimport DiscussionPage from \"flarum/components/DiscussionPage\";\nimport Button from \"flarum/components/Button\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport RecipientSearch from \"./RecipientSearch\";\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\n\nexport default class AddRecipientModal extends Modal {\n    init() {\n        super.init();\n\n        this.selected = m.prop(new ItemList);\n\n        if (this.props.discussion) {\n            // Adds recipients of the currently viewed discussion.\n            this.assignInitialRecipients(this.props.discussion);\n        } else if (this.props.selectedRecipients.toArray().length > 0) {\n            // Adds previously selected recipients.\n            this.selected().merge(this.props.selectedRecipients);\n        } else {\n            // Adds the current user in case there are no selected recipients yet and this is a new discussion.\n            this.selected().add(\"users:\" + app.session.user.id(), app.session.user);\n        }\n\n        this.recipientSearch = RecipientSearch.component({\n            selected: this.selected,\n            discussion: this.props.discussion\n        });\n    }\n\n    assignInitialRecipients(discussion) {\n        discussion.recipientUsers().map(user => {\n            this.selected().add(\"users:\" + user.id(), user);\n        });\n        discussion.recipientGroups().map(group => {\n            this.selected().add(\"groups:\" + group.id(), group);\n        });\n    }\n\n    className() {\n        return 'AddRecipientModal';\n    }\n\n    title() {\n        return this.props.discussion\n            ? app.translator.trans('flagrow-byobu.forum.modal.titles.update_recipients', {title: <em>{this.props.discussion.title()}</em>})\n            : app.translator.trans('flagrow-byobu.forum.modal.titles.add_recipients');\n    }\n\n    content() {\n\n        return [\n            <div className=\"Modal-body\">\n                <div className=\"AddRecipientModal-form\">\n                    {this.recipientSearch}\n                    <div className=\"AddRecipientModal-form-submit App-primaryControl\">\n                        {Button.component({\n                            type: 'submit',\n                            className: 'Button Button--primary',\n                            disabled: false,\n                            icon: 'fas fa-check',\n                            children: app.translator.trans('flagrow-byobu.forum.buttons.submit')\n                        })}\n                    </div>\n                </div>\n            </div>\n        ];\n    }\n\n    select(e) {\n        // Ctrl + Enter submits the selection, just Enter completes the current entry\n        if (e.metaKey || e.ctrlKey || this.selected.indexOf(this.index) !== -1) {\n            if (this.selected().length) {\n                this.$('form').submit();\n            }\n        }\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        const discussion = this.props.discussion;\n        const recipients = this.selected();\n\n        var recipientGroups = [];\n        var recipientUsers = [];\n\n        recipients.toArray().forEach(recipient => {\n            if (recipient instanceof User) {\n                recipientUsers.push(recipient);\n            }\n            if (recipient instanceof Group) {\n                recipientGroups.push(recipient);\n            }\n        });\n\n        // Recipients are updated here for existing discussions here.\n        if (discussion) {\n            discussion.save({relationships: {recipientUsers, recipientGroups}})\n                .then(() => {\n                    if (app.current instanceof DiscussionPage) {\n                        app.current.stream.update();\n                    }\n                    m.redraw();\n                });\n        }\n\n        // Use the onsubmit callback to trigger an update in the DiscussionComposer\n        if (this.props.onsubmit) this.props.onsubmit(recipients);\n\n        app.modal.close();\n\n        m.redraw.strategy('none');\n    }\n}\n","export default function recipientCountLabel(count, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'RecipientLabel ' + (attrs.className || '');\n\n  var label = app.translator.transChoice('flagrow-byobu.forum.labels.recipients', count, {count});\n\n  return (\n    m('span', attrs,\n        <span className=\"RecipientLabel-text\">\n            {label}\n        </span>\n    )\n  );\n}\n","import {extend, override} from \"flarum/extend\";\nimport DiscussionComposer from \"flarum/components/DiscussionComposer\";\nimport AddRecipientModal from \"./components/AddRecipientModal\";\nimport recipientCountLabel from \"../common/helpers/recipientCountLabel\";\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\nimport ItemList from \"flarum/utils/ItemList\";\n\nexport default function (app) {\n    // Add recipient-selection abilities to the discussion composer.\n    DiscussionComposer.prototype.recipients = new ItemList;\n    DiscussionComposer.prototype.recipientUsers = [];\n    DiscussionComposer.prototype.recipientGroups = [];\n\n    // Add a recipient selection modal when clicking the recipient tag label.\n    DiscussionComposer.prototype.chooseRecipients = function () {\n        app.modal.show(\n            new AddRecipientModal({\n                selectedRecipients: this.recipients,\n                onsubmit: (recipients) => {\n                    this.recipients = recipients;\n\n                    // Focus on recipient autocomplete field.\n                    this.$('.RecipientsInput').focus();\n                }\n            })\n        )\n    };\n\n    // Add a tag-selection menu to the discussion composer's header, after the\n    // title.\n    extend(DiscussionComposer.prototype, 'headerItems', function (items) {\n        if (app.session.user && app.forum.attribute('canStartPrivateDiscussion')) {\n\n            const recipients = this.recipients.toArray();\n\n            items.add('recipients', (\n                <a className=\"DiscussionComposer-changeRecipients\"\n                   onclick={this.chooseRecipients.bind(this)}>\n                    {recipients.length\n                        ? recipientCountLabel(recipients.length)\n                        : <span className=\"RecipientLabel none\">{app.translator.trans('flagrow-byobu.forum.buttons.add_recipients')}</span>}\n                </a>\n            ), 5);\n        }\n    });\n\n    // Add the selected tags as data to submit to the server.\n    extend(DiscussionComposer.prototype, 'data', function (data) {\n        const users = [];\n        const groups = [];\n        this.recipients.toArray().forEach(recipient => {\n\n            if (recipient instanceof User) {\n                users.push(recipient);\n            }\n\n            if (recipient instanceof Group) {\n                groups.push(recipient);\n            }\n        });\n\n        data.relationships = data.relationships || {};\n\n        if (users.length) {\n            data.relationships.recipientUsers = users;\n        }\n\n        if (groups.length) {\n            data.relationships.recipientGroups = groups;\n        }\n    });\n}\n","import extract from 'flarum/utils/extract';\nimport recipientLabel from './recipientLabel';\n\nexport default function recipientsLabel(recipients, attrs = {}) {\n  const children = [];\n  const link = extract(attrs, 'link');\n\n  attrs.className = 'RecipientsLabel ' + (attrs.className || '');\n\n  if (recipients) {\n      recipients.forEach(recipient => {\n          children.push(recipientLabel(recipient, {link}));\n      });\n  } else {\n    children.push(recipientLabel());\n  }\n\n  return <span {...attrs}>{children}</span>;\n}\n","import {extend} from \"flarum/extend\";\nimport DiscussionListItem from \"flarum/components/DiscussionListItem\";\nimport DiscussionPage from \"flarum/components/DiscussionPage\";\nimport DiscussionHero from \"flarum/components/DiscussionHero\";\nimport DiscussionList from \"flarum/components/DiscussionList\";\nimport recipientsLabel from \"../common/helpers/recipientsLabel\";\n\nexport default function() {\n\n    var addToDiscussion = function(discussion, items, long) {\n        var recipients = [];\n\n        if (discussion.recipientUsers().length) {\n            recipients = recipients.concat(discussion.recipientUsers());\n        }\n\n        if (discussion.recipientGroups().length) {\n            recipients = recipients.concat(discussion.recipientGroups());\n        }\n\n        if (recipients && recipients.length) {\n            if (long) {\n                items.add('recipients', recipientsLabel(recipients), 10);\n            } else {\n                items.add('recipients', recipientsLabel(recipients, {link: true}), 4);\n            }\n        }\n    };\n\n    /**\n     * Adds User labels on the discussion index page.\n     */\n    extend(DiscussionListItem.prototype, 'infoItems', function(items) {\n        const discussion = this.props.discussion;\n\n        addToDiscussion(discussion, items, true);\n    });\n\n    /**\n     * Require recipients from the API whenever we're loading a Discussion page.\n     */\n    extend(DiscussionPage.prototype, 'params', function(params) {\n        params.include.push('recipientUsers');\n        params.include.push('recipientGroups');\n    });\n    extend(DiscussionList.prototype, 'requestParams', function(params) {\n        params.include.push('recipientUsers');\n        params.include.push('recipientGroups');\n    });\n\n\n    /**\n     * Adds User labels on the discussion Hero.\n     */\n    extend(DiscussionHero.prototype, 'items', function(items) {\n        const discussion = this.props.discussion;\n\n        addToDiscussion(discussion, items, false);\n    });\n}\n","import { extend } from 'flarum/extend';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport Button from 'flarum/components/Button';\n\nimport AddRecipientModal from './components/AddRecipientModal';\n\nexport default function() {\n    // Add a control allowing the discussion to be moved to another category.\n    extend(DiscussionControls, 'moderationControls', function(items, discussion) {\n        if (discussion.canEditRecipients()) {\n            items.add('recipients', Button.component({\n                children: app.translator.trans('flagrow-byobu.forum.buttons.edit_recipients'),\n                icon: 'far fa-map',\n                onclick: () => app.modal.show(new AddRecipientModal({discussion}))\n            }));\n        }\n    });\n}\n","import {extend} from \"flarum/extend\";\nimport Discussion from \"flarum/models/Discussion\";\nimport Badge from \"flarum/components/Badge\";\n\nexport default function addHasRecipientsBadge() {\n    extend(Discussion.prototype, 'badges', function (badges) {\n        if (this.recipientUsers().length || this.recipientGroups().length) {\n            badges.add('private', Badge.component({\n                type: 'private',\n                label: app.translator.trans('flagrow-byobu.forum.badges.is_private.tooltip'),\n                icon: 'fas fa-map'\n            }), 10);\n        }\n    });\n}\n","import {extend} from 'flarum/extend';\nimport UserControls from 'flarum/utils/UserControls';\nimport DiscussionComposer from \"flarum/components/DiscussionComposer\";\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\n\nexport default function () {\n    // Add a control allowing the discussion to be moved to another category.\n    extend(UserControls, 'userControls', function (items, user) {\n        if (app.session.user &&\n                app.session.user.id() != user.id() &&\n                app.forum.attribute('canStartPrivateDiscussion')\n        ) {\n            items.add('private-discussion', Button.component({\n                children: app.translator.trans('flagrow-byobu.forum.buttons.send_pd', {username: user.username()}),\n                icon: 'far fa-map',\n                onclick: () => {\n                    const deferred = m.deferred();\n\n                    let recipients = new ItemList();\n                    recipients.add('users:' + user.id(), user);\n                    recipients.add('users:' + app.session.user.id(), app.session.user);\n\n                    DiscussionComposer.prototype.recipients = recipients;\n\n                    const component = new DiscussionComposer({\n                        user: app.session.user,\n                        recipients: recipients,\n                        recipientUsers: recipients\n                    });\n\n                    app.composer.load(component);\n                    app.composer.show();\n\n                    deferred.resolve(component);\n\n                    return deferred.promise;\n                }\n            }));\n        }\n\n        return items;\n    });\n}\n","import DiscussionList from 'flarum/components/DiscussionList';\n\nexport default class PrivateDiscussionList extends DiscussionList\n{\n    /**\n     * Load a new page of discussion results.\n     *\n     * @param {Integer} offset The index to start the page at.\n     * @return {Promise}\n     */\n    loadResults(offset) {\n        const preloadedDiscussions = app.preloadedDocument();\n\n        if (preloadedDiscussions) {\n            return m.deferred().resolve(preloadedDiscussions).promise;\n        }\n\n        const params = this.requestParams();\n        params.q = 'q=is:private';\n        params.page = {offset};\n        params.include = params.include.join(',');\n\n        return app.store.find('discussions', params);\n    }\n}\n","import { extend } from 'flarum/extend';\nimport Page from 'flarum/components/Page';\nimport ItemList from 'flarum/utils/ItemList';\nimport listItems from 'flarum/helpers/listItems';\nimport icon from 'flarum/helpers/icon';\nimport PrivateDiscussionList from './PrivateDiscussionList';\nimport WelcomeHero from 'flarum/components/WelcomeHero';\nimport DiscussionComposer from 'flarum/components/DiscussionComposer';\nimport LogInModal from 'flarum/components/LogInModal';\nimport DiscussionPage from 'flarum/components/DiscussionPage';\nimport Select from 'flarum/components/Select';\nimport Button from 'flarum/components/Button';\nimport LinkButton from 'flarum/components/LinkButton';\nimport SelectDropdown from 'flarum/components/SelectDropdown';\n\nexport default class PrivateDiscussionIndex extends Page\n{\n    init() {\n        super.init();\n\n        // If the user is returning from a discussion page, then take note of which\n        // discussion they have just visited. After the view is rendered, we will\n        // scroll down so that this discussion is in view.\n        if (app.previous instanceof DiscussionPage) {\n            this.lastDiscussion = app.previous.discussion;\n        }\n\n        // If the user is coming from the discussion list, then they have either\n        // just switched one of the parameters (filter, sort, search) or they\n        // probably want to refresh the results. We will clear the discussion list\n        // cache so that results are reloaded.\n        if (app.previous instanceof PrivateDiscussionIndex) {\n            app.cache.privateDiscussionList = null;\n        }\n\n        const params = this.params();\n\n        if (app.cache.privateDiscussionList) {\n            // Compare the requested parameters (sort, search query) to the ones that\n            // are currently present in the cached discussion list. If they differ, we\n            // will clear the cache and set up a new discussion list component with\n            // the new parameters.\n            Object.keys(params).some(key => {\n                if (app.cache.privateDiscussionList.props.params[key] !== params[key]) {\n                    app.cache.privateDiscussionList = null;\n                    return true;\n                }\n            });\n        }\n\n        if (!app.cache.privateDiscussionList) {\n            app.cache.privateDiscussionList = new PrivateDiscussionList({params});\n        }\n\n        app.history.push('private-index', icon('far fa-map'));\n\n        this.bodyClass = 'App--index';\n    }\n\n    onunload() {\n        // Save the scroll position so we can restore it when we return to the\n        // discussion list.\n        app.cache.scrollTop = $(window).scrollTop();\n    }\n\n    view() {\n        return (\n            <div className=\"IndexPage\">\n                {this.hero()}\n                <div className=\"container\">\n                    <nav className=\"IndexPage-nav sideNav\">\n                        <ul>{listItems(this.sidebarItems().toArray())}</ul>\n                    </nav>\n                    <div className=\"IndexPage-results sideNavOffset\">\n                        <div className=\"IndexPage-toolbar\">\n                            <ul className=\"IndexPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\n                            <ul className=\"IndexPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n                        </div>\n                        {app.cache.discussionList.render()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    config(isInitialized, context) {\n        super.config(...arguments);\n\n        if (isInitialized) return;\n\n        extend(context, 'onunload', () => $('#app').css('min-height', ''));\n\n        app.setTitle('');\n        app.setTitleCount(0);\n\n        // Work out the difference between the height of this hero and that of the\n        // previous hero. Maintain the same scroll position relative to the bottom\n        // of the hero so that the sidebar doesn't jump around.\n        const oldHeroHeight = app.cache.heroHeight;\n        const heroHeight = app.cache.heroHeight = this.$('.Hero').outerHeight();\n        const scrollTop = app.cache.scrollTop;\n\n        $('#app').css('min-height', $(window).height() + heroHeight);\n\n        // Scroll to the remembered position. We do this after a short delay so that\n        // it happens after the browser has done its own \"back button\" scrolling,\n        // which isn't right. https://github.com/flarum/core/issues/835\n        const scroll = () => $(window).scrollTop(scrollTop - oldHeroHeight + heroHeight);\n        scroll();\n        setTimeout(scroll, 1);\n\n        // If we've just returned from a discussion page, then the constructor will\n        // have set the `lastDiscussion` property. If this is the case, we want to\n        // scroll down to that discussion so that it's in view.\n        if (this.lastDiscussion) {\n            const $discussion = this.$(`.DiscussionListItem[data-id=\"${this.lastDiscussion.id()}\"]`);\n\n            if ($discussion.length) {\n                const indexTop = $('#header').outerHeight();\n                const indexBottom = $(window).height();\n                const discussionTop = $discussion.offset().top;\n                const discussionBottom = discussionTop + $discussion.outerHeight();\n\n                if (discussionTop < scrollTop + indexTop || discussionBottom > scrollTop + indexBottom) {\n                    $(window).scrollTop(discussionTop - indexTop);\n                }\n            }\n        }\n    }\n\n    /**\n     * Get the component to display as the hero.\n     *\n     * @return {MithrilComponent}\n     */\n    hero() {\n        return WelcomeHero.component();\n    }\n\n    /**\n     * Build an item list for the sidebar of the index page. By default this is a\n     * \"New Discussion\" button, and then a DropdownSelect component containing a\n     * list of navigation items.\n     *\n     * @return {ItemList}\n     */\n    sidebarItems() {\n        const items = new ItemList();\n        const canStartDiscussion = app.forum.attribute('canStartDiscussion') || !app.session.user;\n\n        items.add('newDiscussion',\n            Button.component({\n                children: app.translator.trans(canStartDiscussion ? 'core.forum.index.start_discussion_button' : 'core.forum.index.cannot_start_discussion_button'),\n                icon: 'fas fa-edit',\n                className: 'Button Button--primary IndexPage-newDiscussion',\n                itemClassName: 'App-primaryControl',\n                onclick: this.newDiscussion.bind(this),\n                disabled: !canStartDiscussion\n            })\n        );\n\n        items.add('nav',\n            SelectDropdown.component({\n                children: this.navItems(this).toArray(),\n                buttonClassName: 'Button',\n                className: 'App-titleControl'\n            })\n        );\n\n        return items;\n    }\n\n    /**\n     * Build an item list for the navigation in the sidebar of the index page. By\n     * default this is just the 'All Discussions' link.\n     *\n     * @return {ItemList}\n     */\n    navItems() {\n        const items = new ItemList();\n        const params = this.stickyParams();\n\n        items.add('allDiscussions',\n            LinkButton.component({\n                href: app.route('index', params),\n                children: app.translator.trans('core.forum.index.all_discussions_link'),\n                icon: 'far fa-comments'\n            }),\n            100\n        );\n\n        return items;\n    }\n\n    /**\n     * Build an item list for the part of the toolbar which is concerned with how\n     * the results are displayed. By default this is just a select box to change\n     * the way discussions are sorted.\n     *\n     * @return {ItemList}\n     */\n    viewItems() {\n        const items = new ItemList();\n        const sortMap = app.cache.discussionList.sortMap();\n\n        const sortOptions = {};\n        for (const i in sortMap) {\n            sortOptions[i] = app.translator.trans('core.forum.index_sort.' + i + '_button');\n        }\n\n        items.add('sort',\n            Select.component({\n                options: sortOptions,\n                value: this.params().sort || Object.keys(sortMap)[0],\n                onchange: this.changeSort.bind(this)\n            })\n        );\n\n        return items;\n    }\n\n    /**\n     * Build an item list for the part of the toolbar which is about taking action\n     * on the results. By default this is just a \"mark all as read\" button.\n     *\n     * @return {ItemList}\n     */\n    actionItems() {\n        const items = new ItemList();\n\n        items.add('refresh',\n            Button.component({\n                title: app.translator.trans('core.forum.index.refresh_tooltip'),\n                icon: 'fas fa-refresh',\n                className: 'Button Button--icon',\n                onclick: () => app.cache.discussionList.refresh()\n            })\n        );\n\n        if (app.session.user) {\n            items.add('markAllAsRead',\n                Button.component({\n                    title: app.translator.trans('core.forum.index.mark_all_as_read_tooltip'),\n                    icon: 'fas fa-check',\n                    className: 'Button Button--icon',\n                    onclick: this.markAllAsRead.bind(this)\n                })\n            );\n        }\n\n        return items;\n    }\n\n    /**\n     * Return the current search query, if any. This is implemented to activate\n     * the search box in the header.\n     *\n     * @see Search\n     * @return {String}\n     */\n    searching() {\n        return this.params().q;\n    }\n\n    /**\n     * Redirect to the index page without a search filter. This is called when the\n     * 'x' is clicked in the search box in the header.\n     *\n     * @see Search\n     */\n    clearSearch() {\n        const params = this.params();\n        delete params.q;\n\n        m.route(app.route(this.props.routeName, params));\n    }\n\n    /**\n     * Redirect to the index page using the given sort parameter.\n     *\n     * @param {String} sort\n     */\n    changeSort(sort) {\n        const params = this.params();\n\n        if (sort === Object.keys(app.cache.discussionList.sortMap())[0]) {\n            delete params.sort;\n        } else {\n            params.sort = sort;\n        }\n\n        m.route(app.route(this.props.routeName, params));\n    }\n\n    /**\n     * Get URL parameters that stick between filter changes.\n     *\n     * @return {Object}\n     */\n    stickyParams() {\n        return {\n            sort: m.route.param('sort'),\n            q: m.route.param('q')\n        };\n    }\n\n    /**\n     * Get parameters to pass to the DiscussionList component.\n     *\n     * @return {Object}\n     */\n    params() {\n        const params = this.stickyParams();\n\n        params.filter = m.route.param('filter');\n\n        return params;\n    }\n\n    /**\n     * Log the user in and then open the composer for a new discussion.\n     *\n     * @return {Promise}\n     */\n    newDiscussion() {\n        const deferred = m.deferred();\n\n        if (app.session.user) {\n            this.composeNewDiscussion(deferred);\n        } else {\n            app.modal.show(\n                new LogInModal({\n                    onlogin: this.composeNewDiscussion.bind(this, deferred)\n                })\n            );\n        }\n\n        return deferred.promise;\n    }\n\n    /**\n     * Initialize the composer for a new discussion.\n     *\n     * @param {Deferred} deferred\n     * @return {Promise}\n     */\n    composeNewDiscussion(deferred) {\n        const component = new DiscussionComposer({user: app.session.user});\n\n        app.composer.load(component);\n        app.composer.show();\n\n        deferred.resolve(component);\n\n        return deferred.promise;\n    }\n\n    /**\n     * Mark all discussions as read.\n     *\n     * @return void\n     */\n    markAllAsRead() {\n        const confirmation = confirm(app.translator.trans('core.forum.index.mark_all_as_read_confirmation'));\n\n        if (confirmation) {\n            app.session.user.save({readTime: new Date()});\n        }\n    }\n}\n","import EventPost from \"flarum/components/EventPost\";\nimport recipientsLabel from \"../../common/helpers/recipientsLabel\";\n\nexport default class RecipientsModified extends EventPost {\n    static initProps(props) {\n        super.initProps(props);\n\n        function diff(diff1, diff2, store) {\n            return diff1\n                .filter(item => diff2.indexOf(item) === -1)\n                .map(id => app.store.getById(store, id));\n        }\n\n        const content = props.post.content();\n\n        // For event posts existing before groups functionality.\n        if (!content['new'] && content.length == 2) {\n            const oldRecipients = props.post.content()[0];\n            const newRecipients = props.post.content()[1];\n            props.added = diff(newRecipients, oldRecipients, 'users');\n            props.removed = diff(oldRecipients, newRecipients, 'users');\n        } else {\n            var usersAdded = diff(content['new']['users'], content['old']['users'], 'users');\n            var usersRemoved = diff(content['old']['users'], content['new']['users'], 'users');\n            var groupsAdded = diff(content['new']['groups'], content['old']['groups'], 'groups');\n            var groupsRemoved = diff(content['old']['groups'], content['new']['groups'], 'groups');\n\n            props.added = usersAdded.concat(groupsAdded);\n            props.removed = usersRemoved.concat(groupsRemoved);\n        }\n    }\n\n    icon() {\n        return 'far fa-map';\n    }\n\n    descriptionKey() {\n\n        var localeBase = 'flagrow-byobu.forum.post.recipients_modified.';\n\n        if (this.props.added.length) {\n            if (this.props.removed.length) {\n                return localeBase + 'added_and_removed';\n            }\n\n            return localeBase + 'added';\n        }\n\n        return localeBase + 'removed';\n    }\n\n    descriptionData() {\n        const data = {};\n\n        if (this.props.added.length) {\n            data.added = recipientsLabel(this.props.added, {link: true});\n        }\n\n        if (this.props.removed.length) {\n            data.removed = recipientsLabel(this.props.removed, {link: true});\n        }\n\n        return data;\n    }\n}\n","import Model from \"flarum/Model\";\nimport Discussion from \"flarum/models/Discussion\";\nimport addRecipientComposer from \"./addRecipientComposer\";\nimport addRecipientLabels from \"./addRecipientLabels\";\nimport addRecipientsControl from \"./addRecipientsControl\";\nimport addHasRecipientsBadge from \"./addHasRecipientsBadge\";\nimport addDiscussPrivatelyControl from './addDiscussPrivatelyControl';\n\nimport PrivateDiscussionIndex from \"./components/PrivateDiscussionIndex\";\nimport RecipientsModified from \"./components/RecipientsModified\";\n\napp.initializers.add('flagrow-byobu', function(app) {\n    app.routes.private_discussions = {path: '/private-discussions', component: PrivateDiscussionIndex.component()};\n\n    Discussion.prototype.recipientUsers = Model.hasMany('recipientUsers');\n    Discussion.prototype.oldRecipientUsers = Model.hasMany('oldRecipientUsers');\n    Discussion.prototype.recipientGroups = Model.hasMany('recipientGroups');\n    Discussion.prototype.oldRecipientGroups = Model.hasMany('oldRecipientGroups');\n\n    Discussion.prototype.canEditRecipients = Model.attribute('canEditRecipients');\n    Discussion.prototype.canEditUserRecipients = Model.attribute('canEditUserRecipients');\n    Discussion.prototype.canEditGroupRecipients = Model.attribute('canEditGroupRecipients');\n\n    app.postComponents.recipientsModified = RecipientsModified;\n\n    addRecipientComposer(app);\n    addRecipientLabels();\n    addRecipientsControl();\n    addHasRecipientsBadge();\n\n    addDiscussPrivatelyControl();\n});\n","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Search'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['utils/extractText'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/DiscussionListItem'];","module.exports = flarum.core.compat['components/DiscussionHero'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['components/Badge'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['components/WelcomeHero'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['components/Select'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/SelectDropdown'];","module.exports = flarum.core.compat['components/EventPost'];"],"sourceRoot":""}